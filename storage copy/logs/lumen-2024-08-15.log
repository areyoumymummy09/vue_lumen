[2024-08-15 19:35:04] local.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select `books`.`id`, `title`, `published_date`, `name` from `books` inner join `authors` on `author_id` = `authors`.`id` order by `published_date` desc) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select `books`.`id`, `title`, `published_date`, `name` from `books` inner join `authors` on `author_id` = `authors`.`id` order by `published_date` desc) at /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php:712)
[stacktrace]
#0 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(784): Illuminate\\Database\\Connection->runQueryCallback('select `books`....', Array, Object(Closure))
#1 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(764): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select `books`....', Array, Object(Closure))
#2 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(675): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select `books`....', Array, Object(Closure))
#3 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(376): Illuminate\\Database\\Connection->run('select `books`....', Array, Object(Closure))
#4 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2414): Illuminate\\Database\\Connection->select('select `books`....', Array, true)
#5 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2402): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2936): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2403): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Eloquent/Builder.php(625): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Eloquent/Builder.php(609): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#10 /Applications/MAMP/htdocs/lumen/app/Http/Controllers/BookController.php(20): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/BoundMethod.php(36): App\\Http\\Controllers\\BookController->getAll()
#12 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/Util.php(40): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#13 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#14 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/BoundMethod.php(37): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Laravel\\Lumen\\Application), Array, Object(Closure))
#15 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/Container.php(653): Illuminate\\Container\\BoundMethod::call(Object(Laravel\\Lumen\\Application), Array, Array, NULL)
#16 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(389): Illuminate\\Container\\Container->call(Array, Array)
#17 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(355): Laravel\\Lumen\\Application->callControllerCallable(Array, Array)
#18 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(329): Laravel\\Lumen\\Application->callLumenController(Object(App\\Http\\Controllers\\BookController), 'getAll', Array)
#19 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(282): Laravel\\Lumen\\Application->callControllerAction(Array)
#20 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(267): Laravel\\Lumen\\Application->callActionOnArrayBasedRoute(Array)
#21 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(169): Laravel\\Lumen\\Application->handleFoundRoute(Array)
#22 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(48): Laravel\\Lumen\\Application->Laravel\\Lumen\\Concerns\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#23 /Applications/MAMP/htdocs/lumen/app/Http/Middleware/CorsMiddleware.php(31): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#24 /Applications/MAMP/htdocs/lumen/vendor/illuminate/pipeline/Pipeline.php(167): App\\Http\\Middleware\\CorsMiddleware->handle(Object(Laravel\\Lumen\\Http\\Request), Object(Closure))
#25 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(30): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#26 /Applications/MAMP/htdocs/lumen/vendor/illuminate/pipeline/Pipeline.php(103): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#27 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(426): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#28 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(175): Laravel\\Lumen\\Application->sendThroughPipeline(Array, Object(Closure))
#29 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(112): Laravel\\Lumen\\Application->dispatch(NULL)
#30 /Applications/MAMP/htdocs/lumen/public/index.php(28): Laravel\\Lumen\\Application->run()
#31 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connectors/Connector.php:70)
[stacktrace]
#0 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'root', 'root', Array)
#1 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'root', 'root', Array)
#2 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connectors/Connector.php(50): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'root', 'root', Array)
#3 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(1064): call_user_func(Object(Closure))
#7 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(1100): Illuminate\\Database\\Connection->getPdo()
#8 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(442): Illuminate\\Database\\Connection->getReadPdo()
#9 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(368): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(705): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select `books`....', Array)
#11 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(784): Illuminate\\Database\\Connection->runQueryCallback('select `books`....', Array, Object(Closure))
#12 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(764): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select `books`....', Array, Object(Closure))
#13 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(675): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select `books`....', Array, Object(Closure))
#14 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Connection.php(376): Illuminate\\Database\\Connection->run('select `books`....', Array, Object(Closure))
#15 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2414): Illuminate\\Database\\Connection->select('select `books`....', Array, true)
#16 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2402): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2936): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Query/Builder.php(2403): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Eloquent/Builder.php(625): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Applications/MAMP/htdocs/lumen/vendor/illuminate/database/Eloquent/Builder.php(609): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#21 /Applications/MAMP/htdocs/lumen/app/Http/Controllers/BookController.php(20): Illuminate\\Database\\Eloquent\\Builder->get()
#22 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/BoundMethod.php(36): App\\Http\\Controllers\\BookController->getAll()
#23 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/Util.php(40): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#24 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#25 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/BoundMethod.php(37): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Laravel\\Lumen\\Application), Array, Object(Closure))
#26 /Applications/MAMP/htdocs/lumen/vendor/illuminate/container/Container.php(653): Illuminate\\Container\\BoundMethod::call(Object(Laravel\\Lumen\\Application), Array, Array, NULL)
#27 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(389): Illuminate\\Container\\Container->call(Array, Array)
#28 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(355): Laravel\\Lumen\\Application->callControllerCallable(Array, Array)
#29 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(329): Laravel\\Lumen\\Application->callLumenController(Object(App\\Http\\Controllers\\BookController), 'getAll', Array)
#30 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(282): Laravel\\Lumen\\Application->callControllerAction(Array)
#31 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(267): Laravel\\Lumen\\Application->callActionOnArrayBasedRoute(Array)
#32 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(169): Laravel\\Lumen\\Application->handleFoundRoute(Array)
#33 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(48): Laravel\\Lumen\\Application->Laravel\\Lumen\\Concerns\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#34 /Applications/MAMP/htdocs/lumen/app/Http/Middleware/CorsMiddleware.php(31): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#35 /Applications/MAMP/htdocs/lumen/vendor/illuminate/pipeline/Pipeline.php(167): App\\Http\\Middleware\\CorsMiddleware->handle(Object(Laravel\\Lumen\\Http\\Request), Object(Closure))
#36 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Routing/Pipeline.php(30): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#37 /Applications/MAMP/htdocs/lumen/vendor/illuminate/pipeline/Pipeline.php(103): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#38 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(426): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#39 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(175): Laravel\\Lumen\\Application->sendThroughPipeline(Array, Object(Closure))
#40 /Applications/MAMP/htdocs/lumen/vendor/laravel/lumen-framework/src/Concerns/RoutesRequests.php(112): Laravel\\Lumen\\Application->dispatch(NULL)
#41 /Applications/MAMP/htdocs/lumen/public/index.php(28): Laravel\\Lumen\\Application->run()
#42 {main}
"} 
